"use strict";function e(e){var n=this;n.a=e,n.b=[],n.c=-1,n.d=!1}function n(e,n){if(e.d)throw Error('Cannot perform "'+n+'" while inside "forEach" loop')}function r(e){if("number"!=typeof e[t])throw Error("Item is not currently allocated")}var t="_poolIndex",o=e.prototype,a=Function.prototype.bind;o.allocate=function(){var e,r=this,o=r.b,a=++r.c,c=r.a;return n(r,"allocate"),a===o.length?(e=this.e.apply(this,arguments),o.push(e)):(e=o[r.c],c.apply(e,arguments)),e[t]=a,e},o.release=function(e){var o,a=this,c=e[t];n(a,"release"),r(e),c<a.c&&(o=a.b[a.c],o[t]=c,a.b[c]=o,a.b[a.c]=e),e[t]=null,a.c--},o.clean=function(){var e=this;n(e,"clean"),e.b.length=e.c+1},o.forEach=function(e){var r,t,o=this,a=o.b;for(n(o,"forEach"),o.d=!0,r=0,t=o.c+1;t>r;++r)e(a[r]);o.d=!1},o.info=function(){var e=this,n=e.c+1;return{allocated:n,released:e.b.length-n}},o.e=function(e,n,r,t){var o,c,i=this.a,l=arguments,u=l.length;switch(u){case 0:return new i;case 1:return new i(e);case 2:return new i(e,n);case 3:return new i(e,n,r);case 4:return new i(e,n,r,t)}for(o=Array(u+1),o[0]=null,c=0;u>c;++c)o[c+1]=l[c];return new(a.apply(i,o))},module.exports=e;