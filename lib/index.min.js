"use strict";function e(e,n,t){var r=this;r.a=e,r.b=n,r.c=t||"_poolIndex",r.d=[],r.e=-1,r.f=!1}var n=e.prototype,t=Function.prototype.bind;n.allocate=function(){var e,n=this,t=n.d,r=++n.e,a=n.a,o=n.c;return n.g("allocate")?(r===t.length?(e=this.h.apply(this,arguments),t.push(e)):(e=t[n.e],a.apply(e,arguments)),e[o]=r,e):void 0},n.release=function(e){var n,t=this,r=t.c,a=e[r];t.g("release")&&t.i(e)&&(a<t.e&&(n=t.d[t.e],n[r]=a,t.d[a]=n,t.d[t.e]=e),e[r]=null,t.e--)},n.clean=function(){var e=this;e.g("clean")&&(e.d.length=e.e+1)},n.forEach=function(e){var n,t,r=this,a=r.d;if(r.g("forEach")){for(r.f=!0,n=0,t=r.e+1;t>n;++n)e(a[n]);r.f=!1}},n.info=function(){var e=this,n=e.e+1;return{allocated:n,released:e.d.length-n}},n.h=function(e,n,r,a){var o,i,c=this.a,l=arguments,u=l.length;switch(u){case 0:return new c;case 1:return new c(e);case 2:return new c(e,n);case 3:return new c(e,n,r);case 4:return new c(e,n,r,a)}for(o=Array(u+1),o[0]=null,i=0;u>i;++i)o[i+1]=l[i];return new(t.apply(c,o))},n.g=function(e){var n=this,t=n.f,r=n.b;return t&&r&&r('Cannot perform "'+e+'" while inside "forEach" loop'),!t},n.i=function(e){var n=this,t=n.c,r="number"==typeof e[t],a=n.b;return r||a&&a("Item is not currently allocated"),r},module.exports=e;